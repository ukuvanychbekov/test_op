<% if @provider.persisted? && @provider.name == 'azure' && @provider.tenant.empty? %>
  <div class="op-toast -warning">
    <div class="op-toast--content">
      <p><%= I18n.t('openid_connect.setting_instructions.azure_deprecation_warning') %></p>
    </div>
  </div>
<% end %>

<fieldset class="form--fieldset">
  <% unless @provider.persisted? -%>
    <div class="form--field -required">
      <%= f.collection_select :name,
                              openid_connect_providers_available_for_configure,
                              :to_s,
                              :capitalize,
                              { container_class: '-middle', required: true },
                              data: {
                                'action': 'admin--openid-connect-providers#updateTypeForm'
                              }
      %>
    </div>
  <% end -%>

  <div class="form--field">
    <%= f.text_field :display_name, required: false, container_class: '-middle' %>
  </div>

  <div class="form--field -required">
    <%= f.text_field :identifier, required: true, container_class: '-middle' %>
  </div>

  <div class="form--field -required">
    <%= f.text_field :secret, required: true, container_class: '-middle' %>
  </div>

  <div class="form--field">
    <%= f.check_box :limit_self_registration, required: false, container_class: '-middle' %>
    <div class="form--field-instructions">
      <%= I18n.t('openid_connect.setting_instructions.limit_self_registration') %>
    </div>
  </div>
</fieldset>
<%= render partial: 'azure_form', locals: { f: } %>
